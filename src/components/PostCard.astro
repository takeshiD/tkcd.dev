---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "./FormattedDate.astro";

interface Props {
post: CollectionEntry<"blog">;
    }

    const { post } = Astro.props;
    const { title, description, pubDate, tags } = post.data;
    ---

    <section
        class="block-bg relative mb-4 rounded-lg p-4 transition-transform transition-shadow duration-200 hover:-translate-y-0.5 hover:shadow-md active:scale-95 lg:mb-6 lg:p-6">
        <h2 class="mt-0 mb-0.5 font-bold leading-tight">{title}</h2>

        {
        description && (
        <div class="not-prose my-1 truncate">
            <p>{description}</p>
        </div>
        )
        }

        <div class="flex flex-wrap items-center gap-2 text-sm opacity-60">
            <FormattedDate date={pubDate} />
            {
            tags && tags.length > 0 && (
            <>
                <span>|</span>
                <div class="flex flex-wrap gap-1">
                    {tags.map((tag: string) => (
                    <span class="rounded bg-black/5 px-1.5 py-0.5 dark:bg-white/10">
                        {tag}
                    </span>
                    ))}
                </div>
            </>
            )
            }
        </div>

        <a class="absolute inset-0 text-[0px]" href={`/blog/${post.id}`}>{title}</a>
    </section>
