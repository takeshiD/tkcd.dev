---
title: "TCP実装"
description: 'TCPスタックをイチから実装するぞ'
pubDate: 2026-01-05
tags: ['tcp', 'rust', 'dialy']
---

import LinkCard from '../../components/LinkCard.astro';

TCPスタックをイチから実装する試みをしている。

参考書籍はこちら

<LinkCard url="https://book.mynavi.jp/ec/products/detail/id=149014" />

Githubはこちらのよう

<LinkCard url="https://github.com/pandax381/seccamp2024" />


これをベース?にkoba789さんが24時間で実装しており影響を受けて自分も取り組んでいる。

<LinkCard url="https://www.youtube.com/live/ZK9ZdNTHN3s?si=KscAc-KPPTH_J3NU" />


# 進め方
参照書籍はC言語で書かれているためRustで実装するに当たっていくつか翻訳をする必要がある。が、さすがRust言語機能が豊富なのでC言語では頑張って関数ポインタなどでインターフェース定義するところをナイーブにtraitで実装出来て便利。

元々自分はC/C++でわりとやっていたのでこういう点が見れることに少し感動した。Rustやってよかったなぁと感じられる瞬間であった。


それはともかくこの実装の進め方だが、Koba789は24時間縛りでザーッと実装しており最終的にはHTTPサーバーまでやりきった。

配信でも出没しているが著者の方が色々ウォッチしてくれているようなので、著者へのアピールも兼ねて少し趣向の異なる実装をしてみようと思う。

- 実装時間の計測
- 各ステップ毎の参照実装を残す
- この過程を記事に残す
- TCPをベースにFTPを実装して通信して遊ぶ

という感じだ。Rustで実装するということで他の読者に参考になるだろうし、ネットワークに明るく無い自分が実装したらどの程度時間が掛かるかを示せると参考になるだろう。実装上ここらへんめんどうかもという点も示せると良いかなと思っている。

これから取り組む人のためにもなり、著者のためにもなり、FTPも実装出来て知見も深まるという良いことづくしでとても良い。

ただ家族サービスの時間を縫って行なうので少し時間が掛かるかもしれない。やれても1日2時間とかだし。

1月中には終えられるようにしたいところ。

実装のレポジトリはこちらに残しているので興味のある人は覗いてみてね。

<LinkCard url="https://github.com/takeshiD/microtcp" />
